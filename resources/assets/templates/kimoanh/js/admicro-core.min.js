if(String.prototype.matchAll=function(e){var t=[];return this.replace(e,function(){var e=[].slice.call(arguments,0),a=e.splice(-2);e.index=a[0],e.input=a[1],t.push(e)}),t.length?t:null},!window.admicro_cpa_q||window.admicro_cpa_q instanceof Array||!window.admicro_cpa_f){var admDomain="//media1.admicro.vn/cpa",oldQueue=window.admicro_cpa_q||[],cpabd_param=cpabd_param||[];window.admicro_cpa_q=function(){var e,t={site:"default",jsFile:admDomain+"/tp2.js",bodyReady:!1,domReady:!1,queue:[]},a={},i=function(){t.site=document.location.host,t.site=t.site.replace(/www./gi,"");for(var e=[],a=t.queue,i=0;i<a.length;++i){var n=a[i];n&&"[object Object]"===n.toString()&&r(n,i,a,e)}(a=document.createElement("script")).setAttribute("async","true"),a.setAttribute("type","text/javascript"),a.setAttribute("src",t.jsFile),r({event:"appendJs",element:a})},r=function(e,i,n,d){switch(e.event=e.event.toLowerCase(),e.event){case"forms":var o=void 0!==e.ids?e.ids:null,c=null,u=[],s=[],l=[];if(null!=o)for(var v=0,m=o.length;v<m;v++){var p=void 0!==o[v].auto&&0==o[v].auto?0:1,b=void 0!==o[v].value?o[v].value:"",g=void 0!==o[v].order&&1==o[v].order;if(action=void 0!==o[v].action?o[v].action:null,void 0!==o[v].trackingId&&r({event:"setTrackingId",id:o[v].trackingId}),null!=(c=void 0!==o[v].id?o[v].id:null)){u[c]=b,l[c]=g,s[c]=p;var h=document.forms[c];if(null==h&&window.parent.document&&(h=window.parent.document.forms[c]),null!=h&&(h.setAttribute("admicro-data-event",b),h.setAttribute("admicro-data-auto",p),h.setAttribute("admicro-data-order",g)),null!=h&&null!=action){var A,_=void 0!==action.tagName?h.getElementsByTagName(action.tagName):h.getElementsByClassName(action.className),f=void 0===action.type?"submit":action.type,y=null;for(A in _)if(_[A].type==f){y=_[A];break}if(null==(y=null==y&&void 0!==_[action.index]?_[action.index]:y))continue;y.setAttribute("admicro-data-event",b),y.setAttribute("admicro-data-auto",p),y.setAttribute("admicro-data-order",g),y.addEventListener?y.addEventListener("click",function(){r({event:"setSuccess",value:1}),r("true"==this.getAttribute("admicro-data-order")?{event:"setValue",value:this.getAttribute("admicro-data-event")}:{event:"setValue",value:this.getAttribute("admicro-data-event"),order:""}),r({event:"start",auto:this.getAttribute("admicro-data-auto")})},!1):y.attachEvent&&y.attachEvent("onclick",function(){r({event:"setSuccess",value:1}),r("true"==this.getAttribute("admicro-data-order")?{event:"setValue",value:this.getAttribute("admicro-data-event")}:{event:"setValue",value:this.getAttribute("admicro-data-event"),order:""}),r({event:"start",auto:this.getAttribute("admicro-data-auto")})})}else null!=h&&h.addEventListener?h.addEventListener("submit",function(){r({event:"setSuccess",value:1}),r("true"==this.getAttribute("admicro-data-order")?{event:"setValue",value:this.getAttribute("admicro-data-event")}:{event:"setValue",value:this.getAttribute("admicro-data-event"),order:""}),r({event:"start",auto:this.getAttribute("admicro-data-auto")})},!1):null!=h&&h.attachEvent&&h.attachEvent("onsubmit",function(){r({event:"setSuccess",value:1}),r("true"==this.getAttribute("admicro-data-order")?{event:"setValue",value:this.getAttribute("admicro-data-event")}:{event:"setValue",value:this.getAttribute("admicro-data-event"),order:""}),r({event:"start",auto:this.getAttribute("admicro-data-auto")})})}}break;case"actions":var E=void 0!==e.ids?e.ids:null;c=null,u=[],s=[],l=[];var w=[];if(null!=E)for(v=0,m=E.length;v<m;v++)if(p=void 0!==E[v].auto&&0==E[v].auto?0:1,b=void 0!==E[v].value?"function"==typeof E[v].value?"GET_VALUE":E[v].value:"",g=void 0!==E[v].order&&1==E[v].order,h=null,void 0!==E[v].trackingId&&r({event:"setTrackingId",id:E[v].trackingId}),null!=(c=void 0!==E[v].id?E[v].id:null))u[c]=b,l[c]=g,s[c]=p,"GET_VALUE"==b&&(w[c]=E[v].value),null==(h=document.getElementById(c))&&window.parent.document&&(h=window.parent.document.getElementById(c)),null!=h&&(h.setAttribute("admicro-data-event",encodeURIComponent(b)),h.setAttribute("admicro-data-auto",p),h.setAttribute("admicro-data-order",g)),null!=h&&h.addEventListener?h.addEventListener("click",function(){r({event:"setSuccess",value:1}),r(1==l[this.id]?{event:"setValue",value:"GET_VALUE"==this.getAttribute("admicro-data-event")?w[c]():this.getAttribute("admicro-data-event")}:{event:"setValue",value:"GET_VALUE"==this.getAttribute("admicro-data-event")?w[c]():this.getAttribute("admicro-data-event"),order:""}),r({event:"start",auto:this.getAttribute("admicro-data-auto")})},!1):null!=h&&h.attachEvent&&h.attachEvent("onclick",function(){r({event:"setSuccess",value:1}),r(1==l[this.id]?{event:"setValue",value:"GET_VALUE"==this.getAttribute("admicro-data-event")?w[c]():this.getAttribute("admicro-data-event")}:{event:"setValue",value:"GET_VALUE"==this.getAttribute("admicro-data-event")?w[c]():this.getAttribute("admicro-data-event"),order:""}),r({event:"start",auto:this.getAttribute("admicro-data-auto")})});else if(null!=(className=void 0!==E[v].className?E[v].className:null))for(var k=void 0!==E[v].pos?E[v].pos:0,V=document.getElementsByClassName(className),T=0;T<V.length&&(!1!==k&&k!==T||(h=V[T]),null!=h&&(h.setAttribute("admicro-data-event",encodeURIComponent(b)),h.setAttribute("admicro-data-auto",p),h.setAttribute("admicro-data-order",g)),null!=h&&h.addEventListener?h.addEventListener("click",function(){r({event:"setSuccess",value:1}),r("true"==this.getAttribute("admicro-data-order")?{event:"setValue",value:this.getAttribute("admicro-data-event")}:{event:"setValue",value:this.getAttribute("admicro-data-event"),order:""}),r({event:"start",auto:this.getAttribute("admicro-data-auto")})},!1):null!=h&&h.attachEvent&&h.attachEvent("onclick",function(){r({event:"setSuccess",value:1}),r("true"==this.getAttribute("admicro-data-order")?{event:"setValue",value:this.getAttribute("admicro-data-event")}:{event:"setValue",value:this.getAttribute("admicro-data-event"),order:""}),r({event:"start",auto:this.getAttribute("admicro-data-auto")})}),!1===k||k!==T);T++);else if(null!=(query=void 0!==E[v].query?E[v].query:null))for(k=void 0!==E[v].pos?E[v].pos:0,V=document.querySelectorAll(query),T=0;T<V.length&&(!1!==k&&k!==T||(h=V[T]),null!=h&&(h.setAttribute("admicro-data-event",encodeURIComponent(b)),h.setAttribute("admicro-data-auto",p),h.setAttribute("admicro-data-order",g)),null!=h&&h.addEventListener?h.addEventListener("click",function(){r({event:"setSuccess",value:1}),r("true"==this.getAttribute("admicro-data-order")?{event:"setValue",value:this.getAttribute("admicro-data-event")}:{event:"setValue",value:this.getAttribute("admicro-data-event"),order:""}),r({event:"start",auto:this.getAttribute("admicro-data-auto")})},!1):null!=h&&h.attachEvent&&h.attachEvent("onclick",function(){r({event:"setSuccess",value:1}),r("true"==this.getAttribute("admicro-data-order")?{event:"setValue",value:this.getAttribute("admicro-data-event")}:{event:"setValue",value:this.getAttribute("admicro-data-event"),order:""}),r({event:"start",auto:this.getAttribute("admicro-data-auto")})}),!1===k||k!==T);T++);break;case"loadextension":var C=document.createElement("script");C.setAttribute("async","true"),C.setAttribute("type","text/javascript"),C.setAttribute("src",admDomain+"/js-custom/"+t.site+".js?t="+(new Date).getTime()),r({event:"appendJs",element:C});break;case"settrackingid":cpabd_param.iid=e.id;break;case"setsuccess":cpabd_param.s=e.value;break;case"setvalue":"undefined"!=typeof _cpabd?(g=void 0!==e.order?e.order:(new Date).getTime()+"-"+_cpabd.getRandom(),_cpabd.setValue(encodeURIComponent(e.value),g)):(g=void 0!==e.order?e.order:(new Date).getTime(),cpabd_param.value=encodeURIComponent(e.value)+"###"+g);break;case"setstepid":cpabd_param.st=e.value;break;case"setstepvalue":"undefined"!=typeof _cpabd?_cpabd.setStepValue(encodeURIComponent(e.value)):cpabd_param.step_value=e.value;break;case"checksuccess":cpabd_param.s=0,f=void 0!==e.type?e.type:0;var I=document.location.pathname;for(I=1==f?document.location.href:I.split("?")[0],v=0;v<e.value.length;v++)if(0==e.value[v].regex&&I==e.value[v].path||1==e.value[v].regex&&1==e.value[v].path.test(I))return void 0!==e.value[v].success&&1!=e.value[v].success||(cpabd_param.s=1),void 0!==e.value[v].rtg_id&&(cpabd_param.rtg_id=parseInt(e.value[v].rtg_id)),1;break;case"retargeting":var S=setInterval(function(){if(void 0!==window.ADS_CPA_CHECKER){var t=0;t=void 0===e.action_id?void 0!==cpabd_param.rtg_id?cpabd_param.rtg_id:t:parseInt(e.action_id),_cpabd.cpabd_param.rtg_id=t,_cpabd.retargetingCreate(e.id,t),clearInterval(S)}},500);break;case"checkretargeting":for(I=(I=document.location.pathname).split("?")[0],v=0;v<e.value.length;v++)(0==e.value[v].regex&&I==e.value[v].path||1==e.value[v].regex&&1==e.value[v].path.test(I))&&(n=void 0!==e.value[v].rtg_id?parseInt(e.value[v].rtg_id):0,cpabd_param.rtg_id=n);break;case"analytics":var N=void 0!==e.domain?e.domain:null;if(c=void 0!==e.id?e.id:null,null!=N&&null!=c){window.admicro_analytics_q=window.admicro_analytics_q||[],window.admicro_analytics_q.push({event:"pageviews",domain:N,id:c});var q=document.createElement("script");q.type="text/javascript",q.async=!0,q.src="../../media1.admicro.vn/core/analytics.js";var L=document.getElementsByTagName("script")[0];e.callback,q.onload=e.callback,q.onreadystatechange=function(){4!=q.readyState&&"complete"!=q.readyState||e.callback()},document.getElementsByTagName("head")[0].appendChild(q)}break;case"setorder":var j=void 0!==e.order_id?e.order_id:(new Date).getTime();cpabd_param.value=encodeURIComponent(e.value)+"###"+j,"lazada.vn"==e.value&&(t.site="lazada.vn");break;case"appendjs":if(void 0===window.ADS_CPA_CHECKER&&e.element&&e.element.tagName)if(a.container||"script"!==e.element.tagName.toLowerCase()){if(!a.container)return 0;a.container.appendChild(e.element)}else i=document.getElementsByTagName("script")[0],e.element.setAttribute("data-owner","admicro-tag"),i.parentNode.insertBefore(e.element,i);return 1;case"startstep":var R=void 0!==e.auto?e.auto:1;try{_cpabd.step(R),t.queue=[]}catch(e){}break;case"start":R=void 0!==e.auto?e.auto:1;try{_cpabd.start(R),t.queue=[]}catch(e){}break;case"admtracking":if("undefined"==typeof ADM_AdsTracking){var x=document.createElement("script");x.type="text/javascript",x.async=!0,x.src="../../media1.admicro.vn/core/adm_tracking.js",L=document.getElementsByTagName("script")[0],e.callback,x.onload=e.callback,x.onreadystatechange=function(){4!=x.readyState&&"complete"!=x.readyState||e.callback()},document.getElementsByTagName("head")[0].appendChild(x)}else e.callback,e.callback();break;case"pson-offers":if(void 0===window.ADS_PSON_OFFERS_CHECKER){var B=document.createElement("script");B.type="text/javascript",B.async=!0,B.setAttribute("id","admicro-pson-offers"),B.src=admDomain+"/pson-offers/core.js?app_id="+e.app_id+"&append_body=false&t="+(new Date).getTime(),(L=document.getElementsByTagName("script")[0]).parentNode.insertBefore(B,L)}break;case"map-user":var D=void 0!==e.id?e.id:null,U=e.source,G=void 0===e.device?0:e.device;if(null!=D&&""!=D&&""!=U){var F="//lg.logging.admicro.vn/mapid?uid="+D+"&src="+U;F+=1==G?"&m=1":"",(n=new Image).src=F}}return 1};return t.queue=[],window.admicro_cpa_f=i,e=function(){t.bodyReady=!(a.onInitialized instanceof Function)||a.onInitialized(t,a),r({event:"admTracking",callback:i})},function t(){window.parent.document?window.parent.document.body?setTimeout(e,100):setTimeout(t,100):document.body?setTimeout(e,100):setTimeout(t,100)}(),{push:function(){for(var e=0;e<arguments.length;++e)t.queue.push(arguments[e])}}}(),window.admicro_cpa_q.push.apply(window.admicro_cpa_q,oldQueue)}